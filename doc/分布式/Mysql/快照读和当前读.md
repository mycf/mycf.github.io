#面试 
# 快照读
==快照读==是指InnoDB存储引擎通过MVCC的方式来读取当前执行时间数据库中行的数据。如果读取的行正在执行DELETE或UPDATE操作，这时读取操作不需要等待行上锁的释放。相反地，InnoDB存储引擎会去读取行的一个快照数据。

==快照数据==就是当前行数据之前的历史版本，每行记录可能有多个版本。

一个行记录可能有不止一个快照数据，一般称这种技术为行多版本技术。由此带来的并发控制，称之为==多版本并发控制（Multi Version Concurrency Control，MVCC）。

快照数据是通过==undo段==来实现的。

在`READ COMMITTED`事务隔离级别下，对于快照数据，快照读总是读取被锁定行的==最新==一份快照数据。
在`REPEATABLE READ`事务隔离级别下，对于快照数据，快照读总是读取==事务开始==时的行数据版本。
# 当前读
==当前读==就是它读取的是记录的==最新版本==，读取时还要保证其他并发事务不能修改当前记录，会对读取的记录进⾏==加锁==。
InnoDB存储引擎支持读两种操作：
❑SELECT…FOR UPDATE
❑SELECT…LOCK IN SHARE MODE

