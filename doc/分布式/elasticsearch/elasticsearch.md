# 基本概念

Elasticsearch是一个**近实时**（Near Real Time，NRT）的数据搜索和分析平台。这意味着从索引文档到可搜索文档都会有一段微小的延迟（通常是1s以内）。


# 三种分页方式比较

|              |      |                                                                  |                                                                                                        |                                                                                              |
| ------------ | ---- | ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------- |
| 分页方式     | 性能 | 优点                                                             | 缺点                                                                                                   | 场景                                                                                         |
| from + size  | 低   | 灵活性好，实现简单                                               | 深度分页问题                                                                                           | 数据量比较小，能容忍深度分页问题                                                             |
| scroll       | 中   | 解决了深度分页问题                                               | 无法反应数据的实时性（快照版本）<br><br>维护成本高，需要维护一个 scroll_id                             | 海量数据的导出（比如笔者刚遇到的将es中20w的数据导入到excel）<br><br>需要查询海量结果集的数据 |
| search_after | 高   | 性能最好<br><br>不存在深度分页问题<br><br>能够反映数据的实时变更 | 实现复杂，需要有一个全局唯一的字段<br><br>连续分页的实现会比较复杂，因为每一次查询都需要上次查询的结果 | 海量数据的分页                                                                               |
